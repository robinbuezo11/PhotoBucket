<mat-card class="cardWithShadow theme-card">
  <mat-card-header class="justify-content-center">
    <mat-card-title class="m-b-0 text-center">Subir Imagen</mat-card-title>
  </mat-card-header>
  <mat-card-content class="b-t-1">
    <div class="container">
      <!--div-- *ngIf="currentUpload">
        <div class="progress">
          <div class="progress-bar progress-bar-animated"
               [ngStyle]="{ 'width': currentUpload?.status + '%' }"></div>
        </div>
        Progress: {{currentUpload?.status}}% Complete
      </div-->
      <div class="box d-flex">
        <div class="col-6">
          <div class="row justify-content-center text-center">
            <h5>Imagen a subir</h5>
          </div>
          <div class="text-center d-flex justify-content-center align-items-center" style="border: 2px dashed #ccc; padding: 10px; min-height: 30rem;">
            <div class="col-12">
              @if(imagePreview) {
                <img mat-card-image [src]="imagePreview" class="" alt="Image preview" style="width: 100%; height: 100%; object-fit: cover;">
              }
            </div>
          </div>
          <div class="row text-center pt-4">
            <label>
                            <span class="button">
                                <input type="file" class="button"
                                       (change)="manageFiles($event)" multiple>
                            </span>
            </label>
          </div>

        </div>
        <div class="col-6">
          <form [formGroup]="form" (ngSubmit)="submit()" class="m-t-30">
            <mat-form-field appearance="outline" class="w-100" color="primary">
              <mat-label>Nombre de la imagen</mat-label>
              <input matInput formControlName="imagename" />
            </mat-form-field>

            <mat-form-field appearance="outline" class="w-100" color="primary">
              <mat-label>Descripcion de la imagen</mat-label>
              <input matInput formControlName="imagedescription" type="email" />

            </mat-form-field>

            <mat-form-field appearance="outline" class="w-100" color="primary">
              <mat-label>Seleccione album de destino</mat-label>
              <mat-select formControlName="album">
                @for (a of albumes; track a) {
                  <mat-option [value]="a.value">{{a.viewValue}}</mat-option>
                }
              </mat-select>
            </mat-form-field>

            <button mat-flat-button color="primary" type="submit" class="w-100">
              Cargar Imagen
            </button>

            <button mat-flat-button color="primary" type="submit" class="w-100 mt-3 bg-error"
            >
              Cancelar
            </button>
          </form>
        </div>
      </div>
    </div>
  </mat-card-content>
</mat-card>
